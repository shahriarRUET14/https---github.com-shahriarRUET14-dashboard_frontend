<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      {{ 'role-feature' | translate }}
      <small>{{ 'control_panel' | translate }}</small>
    </h1>
    <ol class="breadcrumb">
      <li><a href="#"><i class="fa fa-cogs"></i> {{ 'admin' | translate }}</a></li>
      <li class="active">{{ 'role-feature' | translate }}</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">
	<div class="box">
		<div class="box-header">
			<h3 class="box-title">{{ 'rolefeature_assignment' | translate }}</h3>
		</div>
		<!-- /.box-header -->
	
		<div class="box-body"  #scrollToMe>
			<app-alert></app-alert>
			<div class="row">
				<div class="col-md-2">
					<!--	
					<label>Select Role:
						<select (change)="filterRoleFeatures($event.target.value)">
							<option value="-1">--None--</option>
							<option *ngFor="let role of roles" value={{role.componentId}}>
								{{role.uniqueCode}}
							</option>
						</select>			
					</label>
					-->
					<!-- <div class="btn-group" dropdown container="body">
					  <button id="button-basic" dropdownToggle type="button" class="btn btn-primary dropdown-toggle"
							  aria-controls="dropdown-basic">
						{{ 'select_role' |  translate }} <span class="caret"></span>
					  </button>
					  <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu"
						  role="menu" aria-labelledby="button-basic">
						<li role="menuitem" *ngFor="let role of roles">
							<a class="dropdown-item" href="javascript:void(0)" (click)="filterRoleFeatures(role.componentId)">{{role.uniqueCode}}</a>
						</li>
					  </ul>
					</div> -->
					<!-- <label>{{ 'select_role' |  translate }} :
							<select (change)="filterRoleFeatures($event.target.value)">
								<option value="-1">--Select Role--</option>
								<option *ngFor="let role of roles" value={{role.componentId}}>
									{{role.uniqueCode}}
								</option>
							</select>			
						</label> -->

						<select (change)="filterRoleFeatures($event.target.value)" class="form-control   		form-control-inline">
								<option value="-1">{{ 'select_role' | translate }}</option>
								<option *ngFor="let role of roles" value={{role.componentId}}>
									{{role.uniqueCode}}
								</option>
							</select>
					
				</div>
			</div>
			<div class="row">
				<div class="col-md-4">
				<label>{{ 'available_features' |  translate }}:</label>
				<form [formGroup]="form" (ngSubmit)="saveRoleFeatures()" autocomplete="off" >
					<input type="hidden" [(ngModel)]="csrfNonce" formControlName="csrfNonce" />
					<div formArrayName="features" *ngFor="let feature of features; let i = index">
					<label>
					<input type="checkbox" [formControlName]="i" autocomplete="off" />
						{{features[i].uniqueCode}}
					</label>
					</div>	
					<div *ngIf="!form.valid">{{ 'at_least_one_feature_text' | translate }}</div>
					<button class="btn btn-primary">{{ 'btn_save_text' | translate }}</button>
				</form>
				</div>
			</div>
			
		</div>
	</div>
	
  </section>
</div>
