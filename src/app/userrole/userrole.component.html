<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      {{ 'user-role' | translate }}
      <small>{{ 'control_panel' | translate }}</small>
    </h1>
    <ol class="breadcrumb">
      <li><a href="#"><i class="fa fa-cogs"></i> {{ 'admin' | translate }}</a></li>
      <li class="active">{{ 'user-role' | translate }}</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">
	<!-- main app container -->
	<div class="box">
		<div class="box-header">
			<h3 class="box-title">{{ 'userrole_assignment' | translate }}</h3>
		</div>
		<!-- /.box-header -->	
		<div class="box-body">
			<app-alert></app-alert>
			<div class="row">
				<div class="col-md-4">
					<label>{{ 'select_user' | translate }}:
						<!-- <select (change)="filterUserRoles($event.target.value)">
							<option value="-1">{{ 'dropdown_none_text' | translate }}</option>
							<option *ngFor="let user of users" value={{user.componentId}}>
								{{user.firstName}} {{user.lastName}} ({{user.uniqueCode}})
							</option>
						</select>-->
						<select (change)="filterUserRoles($event.target.value)" class="form-control	form-control-inline">
							<option value="-1">{{ 'dropdown_none_text' | translate }}</option>
							<option *ngFor="let user of users" value={{user.componentId}}>
								{{user.firstName}} {{user.lastName}} ({{user.uniqueCode}})
							</option>
						</select>			
					</label>
				</div> 

				<!-- <div class="col-md-4">
					<label>{{ 'select_user' | translate }} :</label>
					<ng2-completer [(ngModel)]="uniqueCode" [datasource]=
						"userNames" [minSearchLength]="0" (selected)="onUserSelect($event)" 
						[inputClass]="'form-control form-control-inline'" placeholder="{{ 'User_Name' | translate}}" ></ng2-completer>
				</div> -->

			</div>
			<div class="row">
				<div class="col-md-4">
				<label>{{ 'available_roles' | translate }}:</label>
				<form [formGroup]="form" (ngSubmit)="saveUserRoles()" autocomplete="off">
					<input type="hidden" [ngModel]="csrfNonce" formControlName="csrfNonce"/>
					<div formArrayName="roles" *ngFor="let role of roles; let i = index">
					<label>
					<input type="checkbox" [formControlName]="i" autocomplete="off" />
						{{roles[i].uniqueCode}}
					</label>
					</div>	
					<div *ngIf="!form.valid">{{ 'at_least_one_role_text' | translate }}</div>
					<button class="btn btn-primary">{{ 'btn_save_text' | translate }}</button>
				</form>
				</div>
			</div>
			
		</div>
	</div>
	<div class="row dummyDiv"></div>
  </section>
</div>


